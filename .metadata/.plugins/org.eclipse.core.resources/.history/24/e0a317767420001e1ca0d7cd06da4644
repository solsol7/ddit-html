<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/style.css">
<script>
proc1 = () => {
	//입력
	vcode = prompt("주민번호 입력");
	
	//추출 (substring / slice / substr)
	yy = vcode.substring(0,2);
	mm = vcode.substring(2,4);
	dd = vcode.substring(4,6);
	gg = vcode.substring(7,8);
		//성별 구하기
	//gg를 비교 1, 3 gender = "남자" / 2, 4
	if(gg==1 || gg==3){
		gender = "남자";
	}else if(gg==2 || gg==4){
		gender = "여자";
	}
	
	//년도 구하기
	//gg를 비교 1, 2 year = 1900 3, 4 year = 2000
	if(gg==1 || gg==2){
		year = "19"+yy;
	}else if(gg==3 || gg==4){
		year = "20"+yy;
	}
	//나이
	//현재년도 -
	age = (new Date().getFullYear()) - year;
	
	//출력
	
// 	주민번호 : 110325-4*****
// 	생년월일 : 2011년 3월 26일
// 	나이 : 
// 	성별 : 
	str = `주민번호 : ${vcode.substr(0,8)}****** <br>`;
	str +=`생년월일 : ${year}년 ${mm}월 ${dd}일 <br>`;
	str +=`나이 : ${age} <br>`
	str +=`성별 : ${gender} <br>`
	document.getElementById('result1').innerHTML = str;
}
proc2 = () => {
	//곱하는 수
	su = "234567892345"
	
	//입력
	vcode = prompt("주민번호 입력","-포함");
	
	rvcode = vcode.replace("-", "");
	
	hap = 0;
	for(i=0; i<su.length; i++){
		hap += su[i] * rvcode[i];
	}
	
	res = 11 - hap%11;
	
	if(rvcode[rvcode.length-1] == res%10){
		vres = "진짜";
	}else{
		vres = "가짜";
	}
	
	str = `주민번호 : ${vscode.substr(0,8)}******<br>`;
	str += `${vres}번호 입니다`;
	
	document.getElementById('result2').innerHTML = str;
}
</script>
</head>
<body>

<h3>prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출력하는 프로그램</h3>
<input type="button" value="확인" onclick="proc1()">
<br>
<div class="ddres" id="result1"></div>
<br>
<hr color="red">

<h3>주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(</h3>
<input type="button" value="확인" onclick="proc2()">
<br>
<div class="ddres" id="result2"></div>
<br>
<hr color="red">
</body>
</html>